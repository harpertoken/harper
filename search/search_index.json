{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Harper","text":"<p>Welcome to Harper, an AI agent for intelligent interactions with AI models. Harper provides a powerful command-line interface for chatting with AI, with features like clipboard integration, session management, and more.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Chat Interface: Interactive conversations with AI models</li> <li>Clipboard Integration: Process images and text from your clipboard</li> <li>Session Management: Save and load conversation sessions</li> <li>Command History: Access previous commands with arrow keys</li> <li>Audit Trail: Review all executed commands for security</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>New to Harper? Start here:</p> <ol> <li>Installation Guide - Install Harper on your system</li> <li>Quick Start - Get up and running in 5 minutes</li> <li>Configuration - Set up API keys and preferences</li> </ol>"},{"location":"#user-guide","title":"User Guide","text":"<p>Learn about Harper's features in detail:</p> <ul> <li>About the Binary - How Harper runs, binary overview</li> <li>Chat Interface - Commands, features, and tips for chatting</li> <li>Clipboard Features - Working with images and text</li> <li>Configuration - Complete configuration options</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"#development","title":"Development","text":"<p>For developers wanting to contribute:</p> <ul> <li>Contributing Guide</li> <li>API Reference</li> <li>CI/CD</li> </ul>"},{"location":"#support","title":"Support","text":"<p>Having issues? Check the Troubleshooting Guide or visit our GitHub Issues.</p>"},{"location":"AGENTS/","title":"Agents","text":""},{"location":"AGENTS/#ai-agent-guidelines-for-file-operations","title":"AI Agent Guidelines for File Operations","text":"<p>This document outlines the policies and guidelines for AI agents (including Harper) when performing file operations, ensuring security, reliability, and user safety.</p>"},{"location":"AGENTS/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Core Principles</li> <li>File Operation Policies</li> <li>Security Guidelines</li> <li>Validation Rules</li> <li>Error Handling</li> <li>Audit Trail</li> <li>User Consent</li> </ul>"},{"location":"AGENTS/#core-principles","title":"Core Principles","text":""},{"location":"AGENTS/#1-safety-first","title":"1. Safety First","text":"<ul> <li>Never perform destructive operations without explicit user consent</li> <li>Validate all file paths and operations before execution</li> <li>Implement fail-safe mechanisms for rollback scenarios</li> </ul>"},{"location":"AGENTS/#2-transparency","title":"2. Transparency","text":"<ul> <li>Clearly communicate all intended file operations to users</li> <li>Provide detailed feedback on operation results</li> <li>Maintain comprehensive logging of all file activities</li> </ul>"},{"location":"AGENTS/#3-minimal-impact","title":"3. Minimal Impact","text":"<ul> <li>Operate only on files within the project workspace</li> <li>Avoid system-wide or global file modifications</li> <li>Respect file permissions and ownership</li> </ul>"},{"location":"AGENTS/#4-reliability","title":"4. Reliability","text":"<ul> <li>Implement atomic operations where possible</li> <li>Provide backup mechanisms for critical files</li> <li>Validate operation success before reporting completion</li> </ul>"},{"location":"AGENTS/#file-operation-policies","title":"File Operation Policies","text":""},{"location":"AGENTS/#read-operations","title":"Read Operations","text":"<pre><code>//  ALLOWED: Reading project files\nread_file(\"src/main.rs\") // Within project scope\nread_file(\"README.md\")   // Documentation files\n\n//  FORBIDDEN: Reading sensitive files\nread_file(\"/etc/passwd\")        // System files\nread_file(\"~/.ssh/id_rsa\")      // Private keys\nread_file(\"../other_project/*\") // Outside project scope\n</code></pre> <p>Policy Rules: - Only read files within the current project directory - Respect <code>.gitignore</code> patterns - Never read sensitive configuration files - Limit file size to prevent memory exhaustion</p>"},{"location":"AGENTS/#write-operations","title":"Write Operations","text":"<pre><code>//  ALLOWED: With user consent\nwrite_file(\"src/new_feature.rs\", content) // New project files\nwrite_file(\"tests/test_file.rs\", content) // Test files\n\n//  FORBIDDEN: Without validation\nwrite_file(\"/etc/hosts\", content)        // System files\nwrite_file(\"~/.bashrc\", content)         // User config\nwrite_file(\"../other/file.rs\", content)  // Outside scope\n</code></pre> <p>Policy Rules: - Require explicit user approval for all write operations - Create backups of modified files - Validate file paths are within project scope - Check file permissions before writing</p>"},{"location":"AGENTS/#delete-operations","title":"Delete Operations","text":"<pre><code>//  STRICTLY FORBIDDEN: Direct file deletion\n// Use git operations instead for version control\n</code></pre> <p>Policy Rules: - Never perform direct file deletion - Use version control operations for file removal - Suggest <code>git rm</code> for tracked files</p>"},{"location":"AGENTS/#search-and-replace-operations","title":"Search and Replace Operations","text":"<pre><code>//  ALLOWED: With validation\nsearch_replace(\"src/file.rs\", \"old_code\", \"new_code\")\n\n// Requirements:\n// - User approval required\n// - Backup original file\n// - Validate regex patterns\n// - Limit replacement scope\n</code></pre> <p>Policy Rules: - Require user approval for all modifications - Create backup before modification - Validate search patterns are safe - Limit the number of replacements</p>"},{"location":"AGENTS/#security-guidelines","title":"Security Guidelines","text":""},{"location":"AGENTS/#path-validation","title":"Path Validation","text":"<pre><code>fn validate_path(path: &amp;str) -&gt; Result&lt;(), AgentError&gt; {\n    // Prevent directory traversal\n    if path.contains(\"..\") {\n        return Err(AgentError::Security(\"Path traversal detected\"));\n    }\n\n    // Ensure path is within project\n    let canonical_path = std::fs::canonicalize(path)?;\n    let project_root = std::env::current_dir()?;\n    if !canonical_path.starts_with(project_root) {\n        return Err(AgentError::Security(\"Path outside project scope\"));\n    }\n\n    Ok(())\n}\n</code></pre>"},{"location":"AGENTS/#content-validation","title":"Content Validation","text":"<pre><code>fn validate_content(content: &amp;str) -&gt; Result&lt;(), AgentError&gt; {\n    // Check for malicious patterns\n    let dangerous_patterns = [\n        r\"&lt;script[^&gt;]*&gt;.*?&lt;/script&gt;\",  // XSS attempts\n        r\"rm\\s+-rf\\s+/\",               // Dangerous commands\n        r\"eval\\s*\\(\",                  // Code injection\n    ];\n\n    for pattern in &amp;dangerous_patterns {\n        if regex::Regex::new(pattern)?.is_match(content) {\n            return Err(AgentError::Security(\"Potentially dangerous content detected\"));\n        }\n    }\n\n    Ok(())\n}\n</code></pre>"},{"location":"AGENTS/#permission-checks","title":"Permission Checks","text":"<pre><code>fn check_permissions(path: &amp;Path) -&gt; Result&lt;(), AgentError&gt; {\n    let metadata = std::fs::metadata(path)?;\n\n    // Check if file is writable\n    if metadata.permissions().readonly() {\n        return Err(AgentError::Security(\"File is read-only\"));\n    }\n\n    // Check if we're the owner or have write access\n    #[cfg(unix)]\n    {\n        use std::os::unix::fs::MetadataExt;\n        let current_uid = unsafe { libc::getuid() };\n        if metadata.uid() != current_uid {\n            return Err(AgentError::Security(\"Permission denied\"));\n        }\n    }\n\n    Ok(())\n}\n</code></pre>"},{"location":"AGENTS/#validation-rules","title":"Validation Rules","text":""},{"location":"AGENTS/#file-type-restrictions","title":"File Type Restrictions","text":"<pre><code>const ALLOWED_EXTENSIONS: &amp;[&amp;str] = &amp;[\n    \"rs\", \"toml\", \"md\", \"txt\", \"json\", \"yml\", \"yaml\",\n    \"js\", \"ts\", \"py\", \"sh\", \"sql\"\n];\n\nconst FORBIDDEN_FILES: &amp;[&amp;str] = &amp;[\n    \"Cargo.lock\", \".env\", \"id_rsa\", \"secrets.json\"\n];\n</code></pre>"},{"location":"AGENTS/#size-limits","title":"Size Limits","text":"<pre><code>const MAX_FILE_SIZE: u64 = 10 * 1024 * 1024; // 10MB\nconst MAX_READ_SIZE: usize = 1024 * 1024;    // 1MB for display\n</code></pre>"},{"location":"AGENTS/#operation-limits","title":"Operation Limits","text":"<pre><code>const MAX_FILES_PER_OPERATION: usize = 10;\nconst MAX_SEARCH_REPLACEMENTS: usize = 100;\n</code></pre>"},{"location":"AGENTS/#error-handling","title":"Error Handling","text":""},{"location":"AGENTS/#structured-error-types","title":"Structured Error Types","text":"<pre><code>#[derive(Debug, thiserror::Error)]\npub enum AgentError {\n    #[error(\"Security violation: {0}\")]\n    Security(String),\n\n    #[error(\"Validation failed: {0}\")]\n    Validation(String),\n\n    #[error(\"File operation failed: {0}\")]\n    FileOperation(String),\n\n    #[error(\"Permission denied: {0}\")]\n    Permission(String),\n}\n</code></pre>"},{"location":"AGENTS/#error-recovery","title":"Error Recovery","text":"<pre><code>fn perform_safe_operation&lt;F, T&gt;(operation: F) -&gt; Result&lt;T, AgentError&gt;\nwhere\n    F: FnOnce() -&gt; Result&lt;T, AgentError&gt;,\n{\n    // Pre-operation validation\n    validate_preconditions()?;\n\n    // Execute with rollback capability\n    match operation() {\n        Ok(result) =&gt; {\n            log_operation_success();\n            Ok(result)\n        }\n        Err(e) =&gt; {\n            attempt_rollback()?;\n            log_operation_failure(&amp;e);\n            Err(e)\n        }\n    }\n}\n</code></pre>"},{"location":"AGENTS/#audit-trail","title":"Audit Trail","text":""},{"location":"AGENTS/#operation-logging","title":"Operation Logging","text":"<pre><code>#[derive(Debug, serde::Serialize)]\nstruct OperationLog {\n    timestamp: chrono::DateTime&lt;chrono::Utc&gt;,\n    operation: String,\n    path: String,\n    user_consent: bool,\n    success: bool,\n    error_message: Option&lt;String&gt;,\n}\n\nfn log_operation(op: &amp;OperationLog) {\n    // Log to file and/or database\n    // Include in session history\n}\n</code></pre> <p>Harper now persists shell executions to a <code>command_logs</code> table (session ID, command text, approval state, exit code, runtime, and stdout/stderr previews), ensuring every approved or rejected command is audit-able alongside the chat transcript. Operators can review the last <code>n</code> entries interactively via <code>/audit</code> (defaults to 10, e.g., <code>/audit 25 failed approved</code>) and see a summary in the session viewer/export flow.</p>"},{"location":"AGENTS/#session-tracking","title":"Session Tracking","text":"<pre><code>struct AgentSession {\n    session_id: String,\n    operations: Vec&lt;OperationLog&gt;,\n    start_time: chrono::DateTime&lt;chrono::Utc&gt;,\n    user_approvals: usize,\n}\n</code></pre>"},{"location":"AGENTS/#user-consent","title":"User Consent","text":""},{"location":"AGENTS/#consent-workflow","title":"Consent Workflow","text":"<pre><code>fn request_user_consent(operation: &amp;str, details: &amp;str) -&gt; Result&lt;bool, AgentError&gt; {\n    println!(\" AI Agent Request:\");\n    println!(\"Operation: {}\", operation);\n    println!(\"Details: {}\", details);\n    println!(\"\");\n    println!(\"Do you approve? (y/n): \");\n\n    let mut input = String::new();\n    std::io::stdin().read_line(&amp;mut input)?;\n\n    Ok(input.trim().eq_ignore_ascii_case(\"y\"))\n}\n</code></pre>"},{"location":"AGENTS/#consent-types","title":"Consent Types","text":"<ul> <li>Read Operations: Automatic (low risk)</li> <li>Write Operations: Required (medium risk)</li> <li>Delete Operations: Forbidden (high risk)</li> <li>System Operations: Required (high risk)</li> </ul>"},{"location":"AGENTS/#implementation-checklist","title":"Implementation Checklist","text":"<ul> <li>[ ] Path validation functions</li> <li>[ ] Content security scanning</li> <li>[ ] User consent workflow</li> <li>[ ] Operation logging</li> <li>[ ] Backup mechanisms</li> <li>[ ] Size and count limits</li> <li>[ ] Permission checking</li> <li>[ ] Error recovery</li> <li>[ ] Audit trail</li> <li>[ ] Session tracking</li> </ul>"},{"location":"AGENTS/#testing-requirements","title":"Testing Requirements","text":""},{"location":"AGENTS/#security-tests","title":"Security Tests","text":"<pre><code>#[test]\nfn test_path_traversal_prevention() {\n    assert!(validate_path(\"../../../etc/passwd\").is_err());\n}\n\n#[test]\nfn test_malicious_content_detection() {\n    let malicious = \"&lt;script&gt;alert('xss')&lt;/script&gt;\";\n    assert!(validate_content(malicious).is_err());\n}\n</code></pre>"},{"location":"AGENTS/#integration-tests","title":"Integration Tests","text":"<pre><code>#[test]\nfn test_file_operation_workflow() {\n    // Test complete read-write cycle with consent\n    // Verify backups are created\n    // Check audit logs\n}\n</code></pre>"},{"location":"AGENTS/#rust-coding-guidelines","title":"Rust Coding Guidelines","text":"<p>When contributing to Harper's Rust codebase, follow these guidelines to ensure efficient, safe, and maintainable code.</p>"},{"location":"AGENTS/#preferring-structs-and-enums-over-complex-inheritance","title":"Preferring Structs and Enums over Complex Inheritance","text":"<p>Use structs and enums for data modeling. Leverage traits for polymorphism rather than inheritance hierarchies.</p> <ul> <li>Seamless Ownership: Structs and enums work naturally with Rust's ownership and borrowing system.</li> <li>Reduced Boilerplate: Derive macros (<code>#[derive(Debug, Clone)]</code>) provide common functionality.</li> <li>Enhanced Readability: Explicit fields and pattern matching make data structures clear and safe.</li> <li>Immutability by Default: Rust's immutability encourages functional patterns.</li> </ul>"},{"location":"AGENTS/#embracing-iterator-methods","title":"Embracing Iterator Methods","text":"<p>Leverage Rust's iterator methods like <code>.map()</code>, <code>.filter()</code>, <code>.fold()</code>, <code>.collect()</code> for transforming data immutably and declaratively.</p> <ul> <li>Promotes Immutability: Most methods return new collections.</li> <li>Improves Readability: Chaining leads to concise, expressive code.</li> <li>Facilitates Functional Programming: Pure functions that transform data.</li> <li>Performance: Lazy evaluation and efficient composition.</li> </ul>"},{"location":"AGENTS/#avoiding-unwrap-and-expect-preferring-proper-error-handling","title":"Avoiding <code>unwrap()</code> and <code>expect()</code>; Preferring Proper Error Handling","text":"<p>Avoid <code>unwrap()</code> and <code>expect()</code> in production code. Use <code>?</code> operator, <code>match</code>, or <code>if let</code> for explicit error handling.</p> <ul> <li>Prevents Panics: Graceful error propagation instead of crashes.</li> <li>Robustness: Forces handling of potential failures.</li> <li>Maintainability: Clear error paths make debugging easier.</li> </ul> <pre><code>// Preferred\nfn process_data(data: Option&lt;Data&gt;) -&gt; Result&lt;Processed, Error&gt; {\n    let data = data.ok_or(Error::MissingData)?;\n    Ok(process(data))\n}\n\n// Avoid\nfn process_data(data: Option&lt;Data&gt;) -&gt; Processed {\n    data.unwrap() // Panics on None\n}\n</code></pre>"},{"location":"AGENTS/#result-and-option-patterns","title":"Result and Option Patterns","text":"<p>Use <code>Result</code> and <code>Option</code> extensively. Prefer early returns with <code>?</code> and pattern matching.</p> <ul> <li>Early Returns: <code>?</code> for propagating errors.</li> <li>Pattern Matching: <code>match</code> or <code>if let</code> over <code>unwrap()</code>.</li> <li>Builder Pattern: For complex construction with error handling.</li> </ul>"},{"location":"AGENTS/#avoiding-global-state-preferring-dependency-injection","title":"Avoiding Global State; Preferring Dependency Injection","text":"<p>Avoid global variables and static mutables. Pass dependencies explicitly.</p> <ul> <li>Testability: Easier unit testing with explicit deps.</li> <li>Concurrency: Safer in multi-threaded code.</li> <li>Modularity: Clear component interfaces.</li> </ul>"},{"location":"AGENTS/#embracing-cargo-features-for-conditional-compilation","title":"Embracing Cargo Features for Conditional Compilation","text":"<p>Use Cargo features for optional functionality and platform-specific code.</p> <ul> <li>Optional Dependencies: Enable only when needed.</li> <li>Platform-Specific: <code>#[cfg()]</code> for targeted implementations.</li> <li>Modular Builds: Customize for different use cases.</li> </ul>"},{"location":"AGENTS/#testing-guidelines","title":"Testing Guidelines","text":"<p>Follow these patterns for comprehensive testing:</p> <ul> <li>Framework: Use <code>#[test]</code> and <code>#[tokio::test]</code> for async.</li> <li>Mocking: Use libraries like <code>mockito</code> for HTTP, <code>tempfile</code> for FS.</li> <li>Async Testing: <code>#[tokio::test]</code>, fake timers with <code>tokio::time</code>.</li> <li>Error Testing: Assert <code>Result::Err</code> variants explicitly.</li> <li>General: Examine existing tests for conventions, prefer table-driven tests.</li> </ul>"},{"location":"AGENTS/#documentation-and-comments","title":"Documentation and Comments","text":"<ul> <li>High-Value Comments: Only add comments that explain why, not what.</li> <li>API Docs: Document public functions with examples.</li> <li>Technical Accuracy: Base all docs on actual code behavior.</li> </ul> <p>Remember: AI agents should enhance human productivity while maintaining strict safety boundaries. When in doubt, require explicit user approval for any file operation.</p>"},{"location":"CONFIG_REFERENCE/","title":"Harper Configuration Reference","text":"<p>This document is authoritative. All unspecified values resolve to defaults.</p>"},{"location":"CONFIG_REFERENCE/#configuration-file","title":"Configuration File","text":"<p>Format: TOML Default path: <code>~/.harper/config.toml</code> Override: <code>HARPER_CONFIG_PATH</code></p>"},{"location":"CONFIG_REFERENCE/#provider","title":"<code>[provider]</code>","text":"<p>Controls AI backend selection and request behavior.</p> Key Type Required Default Description <code>name</code> string yes \u2014 Provider identifier <code>model</code> string yes \u2014 Model name <code>endpoint</code> string no provider default Custom OpenAI-compatible endpoint <code>timeout_ms</code> integer no 30000 Request timeout <code>max_retries</code> integer no 0 Retry count on failure"},{"location":"CONFIG_REFERENCE/#allowed-name-values","title":"Allowed <code>name</code> values","text":"Value Notes <code>openai</code> Native <code>sambanova</code> OpenAI-compatible <code>gemini</code> Native <code>custom</code> Requires <code>endpoint</code>"},{"location":"CONFIG_REFERENCE/#execution","title":"<code>[execution]</code>","text":"<p>Command execution rules. All rules are deny-by-default.</p> Key Type Default Effect <code>require_approval</code> bool true Blocks auto-execution <code>allow_pipes</code> bool false Enables <code>|</code> <code>allow_redirects</code> bool false Enables <code>&gt;</code>, <code>&gt;&gt;</code>, <code>&lt;</code> <code>allow_subshells</code> bool false Enables <code>$()</code> <code>allow_background</code> bool false Enables <code>&amp;</code> <code>allow_sudo</code> bool false Enables <code>sudo</code> <code>max_command_length</code> int 4096 Hard limit"},{"location":"CONFIG_REFERENCE/#hard-blocked-cannot-be-enabled","title":"Hard-blocked (cannot be enabled)","text":"Pattern Remote shell listeners Daemonized processes Privilege escalation via config"},{"location":"CONFIG_REFERENCE/#ui","title":"<code>[ui]</code>","text":"<p>Terminal UI behavior.</p> Key Type Default Description <code>theme</code> string <code>dark</code> <code>dark</code> / <code>light</code> <code>show_exit_codes</code> bool true Show status after run <code>confirm_style</code> string <code>explicit</code> <code>explicit</code> / <code>compact</code> <code>vim_keys</code> bool true Enable j/k navigation"},{"location":"CONFIG_REFERENCE/#storage","title":"<code>[storage]</code>","text":"<p>Session persistence and audit logs.</p> Key Type Default Description <code>path</code> string <code>~/.harper/sessions</code> Storage directory <code>persist</code> bool true Save sessions <code>max_sessions</code> int 100 Retention limit <code>compress</code> bool false Gzip logs"},{"location":"CONFIG_REFERENCE/#security","title":"<code>[security]</code>","text":"<p>Additional constraints.</p> Key Type Default Description <code>redact_env</code> bool true Hide secrets in logs <code>block_env_mutation</code> bool true Prevent <code>export</code> <code>confirm_destructive</code> bool true Extra prompt for <code>rm</code>, <code>mv</code>, etc"},{"location":"CONFIG_REFERENCE/#environment-variables","title":"Environment Variables","text":"Variable Scope Description <code>OPENAI_API_KEY</code> provider OpenAI auth <code>SAMBANOVA_API_KEY</code> provider Sambanova auth <code>GEMINI_API_KEY</code> provider Gemini auth <code>HARPER_CONFIG_PATH</code> global Config override <code>HARPER_DATA_DIR</code> global Storage override"},{"location":"CONFIG_REFERENCE/#resolution-order","title":"Resolution Order","text":"<ol> <li>CLI flags</li> <li>Environment variables</li> <li>Config file</li> <li>Defaults</li> </ol>"},{"location":"CONFIG_REFERENCE/#validation-rules","title":"Validation Rules","text":"Rule Outcome Missing provider Startup failure Invalid TOML Startup failure Disallowed command Rejected pre-exec Provider timeout Command generation fails <p>No silent fallback occurs.</p>"},{"location":"CONFIG_REFERENCE/#minimal-example","title":"Minimal Example","text":"<pre><code>[provider]\nname = \"openai\"\nmodel = \"gpt-4.1\"\n\n[execution]\nrequire_approval = true\nallow_pipes = false\n\n[ui]\ntheme = \"dark\"\n</code></pre>"},{"location":"CONFIG_REFERENCE/#non-goals","title":"Non-Goals","text":"<ul> <li>Autonomous execution</li> <li>Background agents</li> <li>Remote command dispatch</li> <li>Self-modifying configuration</li> </ul>"},{"location":"PRIVACY/","title":"Privacy","text":""},{"location":"PRIVACY/#privacy-policy","title":"Privacy Policy","text":"<p>Harper is committed to protecting your privacy. This policy explains how we handle your data and what you can expect from our privacy practices.</p>"},{"location":"PRIVACY/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Our Commitment</li> <li>Data Collection</li> <li>Data Storage</li> <li>Data Usage</li> <li>Data Sharing</li> <li>Your Rights</li> <li>Security Measures</li> <li>Third-Party Services</li> <li>Data Retention</li> <li>International Data Transfers</li> <li>Changes to This Policy</li> <li>Contact Us</li> </ul>"},{"location":"PRIVACY/#our-commitment","title":"Our Commitment","text":"<p>Harper follows a privacy-first approach:</p> <ul> <li>Local Storage: All conversation data stays on your device</li> <li>No Tracking: We don't track your usage or collect analytics</li> <li>User Control: You have complete control over your data</li> <li>Transparency: We're open source, so you can verify our claims</li> <li>Minimal Data: We collect only what's necessary for functionality</li> </ul>"},{"location":"PRIVACY/#data-collection","title":"Data Collection","text":""},{"location":"PRIVACY/#what-we-collect","title":"What We Collect","text":"<p>Harper collects only the minimum data required for functionality:</p>"},{"location":"PRIVACY/#conversation-data","title":"Conversation Data","text":"<ul> <li>Chat messages: Your conversations with AI assistants</li> <li>Session metadata: Timestamps, session IDs, and basic statistics</li> <li>User preferences: Your chosen AI provider and model settings</li> </ul>"},{"location":"PRIVACY/#technical-data","title":"Technical Data","text":"<ul> <li>Configuration: Your API provider preferences and settings</li> <li>Error logs: Technical errors for debugging (stored locally)</li> <li>Performance metrics: Response times and usage statistics (local only)</li> </ul>"},{"location":"PRIVACY/#what-we-dont-collect","title":"What We Don't Collect","text":"<ul> <li>Personal information: Names, emails, or identifying information</li> <li>Usage analytics: How you use Harper or what you discuss</li> <li>Location data: Your geographic location or IP address</li> <li>Device information: Hardware details or system specifications</li> <li>Behavioral data: Patterns of usage or preferences</li> </ul>"},{"location":"PRIVACY/#data-storage","title":"Data Storage","text":""},{"location":"PRIVACY/#local-storage-only","title":"Local Storage Only","text":"<ul> <li>Database: SQLite database stored locally on your device</li> <li>Location: Default location is <code>./chat_sessions.db</code> (configurable)</li> <li>Encryption: All sensitive data is encrypted using AES-GCM-256</li> <li>Access: Only you can access your data; we have no remote access</li> </ul>"},{"location":"PRIVACY/#configuration-files","title":"Configuration Files","text":"<ul> <li>API Keys: Stored securely in environment variables or config files</li> <li>Settings: Provider preferences and application settings</li> <li>Location: Local configuration files in your project directory</li> </ul>"},{"location":"PRIVACY/#data-usage","title":"Data Usage","text":""},{"location":"PRIVACY/#how-we-use-your-data","title":"How We Use Your Data","text":"<p>Your data is used exclusively for:</p> <ul> <li>AI Conversations: Processing your messages with chosen AI providers</li> <li>Session Management: Organizing and retrieving your chat history</li> <li>Application Functionality: Providing the core features of Harper</li> <li>Error Resolution: Debugging technical issues (local only)</li> </ul>"},{"location":"PRIVACY/#data-processing","title":"Data Processing","text":"<ul> <li>Local Processing: All data processing happens on your device</li> <li>AI Provider APIs: Messages are sent to your chosen AI provider for processing</li> <li>No Aggregation: We don't combine or analyze data across users</li> <li>No Profiling: We don't create user profiles or behavioral patterns</li> </ul>"},{"location":"PRIVACY/#data-sharing","title":"Data Sharing","text":""},{"location":"PRIVACY/#what-we-share","title":"What We Share","text":"<p>We share your data only in these limited circumstances:</p>"},{"location":"PRIVACY/#ai-provider-apis","title":"AI Provider APIs","text":"<ul> <li>Purpose: To provide AI responses to your messages</li> <li>Providers: OpenAI, Sambanova, or Google Gemini (your choice)</li> <li>Data Sent: Only the conversation messages you send</li> <li>Retention: Subject to each provider's privacy policy</li> </ul>"},{"location":"PRIVACY/#public-sharing","title":"Public Sharing","text":"<ul> <li>Never: We never share your conversation data publicly</li> <li>Opt-in Only: You control all data export and sharing</li> <li>Anonymized: Any shared technical data is fully anonymized</li> </ul>"},{"location":"PRIVACY/#what-we-dont-share","title":"What We Don't Share","text":"<ul> <li>Conversation History: Never shared with third parties</li> <li>API Keys: Never transmitted except to authorized AI providers</li> <li>Personal Data: We don't collect personal data to share</li> <li>Analytics: No usage data is shared with anyone</li> </ul>"},{"location":"PRIVACY/#your-rights","title":"Your Rights","text":""},{"location":"PRIVACY/#data-control-rights","title":"Data Control Rights","text":"<p>You have complete control over your data:</p>"},{"location":"PRIVACY/#access-your-data","title":"Access Your Data","text":"<pre><code># View all sessions\nharper  # Select option 2: List previous sessions\n\n# View specific session\nharper  # Select option 3: View a session's history\n</code></pre>"},{"location":"PRIVACY/#export-your-data","title":"Export Your Data","text":"<pre><code># Export session history\nharper  # Select option 4: Export a session's history\n</code></pre>"},{"location":"PRIVACY/#delete-your-data","title":"Delete Your Data","text":"<ul> <li>Individual Sessions: Delete specific conversations</li> <li>All Data: Remove the SQLite database file</li> <li>Configuration: Delete or modify config files</li> </ul>"},{"location":"PRIVACY/#data-portability","title":"Data Portability","text":"<ul> <li>Export Formats: JSON, CSV, and plain text</li> <li>Migration: Easy to move data between Harper installations</li> <li>Backup: Regular backups recommended for important conversations</li> </ul>"},{"location":"PRIVACY/#security-measures","title":"Security Measures","text":""},{"location":"PRIVACY/#encryption","title":"Encryption","text":"<ul> <li>AES-GCM-256: Industry-standard encryption for stored data</li> <li>Key Management: Secure key derivation and storage</li> <li>Memory Safety: Rust prevents common memory vulnerabilities</li> </ul>"},{"location":"PRIVACY/#access-controls","title":"Access Controls","text":"<ul> <li>Local Access: Data accessible only from your device</li> <li>File Permissions: Database files have appropriate permissions</li> <li>API Security: Secure communication with AI providers</li> </ul>"},{"location":"PRIVACY/#security-practices","title":"Security Practices","text":"<ul> <li>Regular Audits: Code security reviews and dependency checks</li> <li>Vulnerability Management: Prompt fixes for security issues</li> <li>Secure Defaults: Conservative security settings by default</li> </ul>"},{"location":"PRIVACY/#third-party-services","title":"Third-Party Services","text":""},{"location":"PRIVACY/#ai-providers","title":"AI Providers","text":"<p>Harper integrates with third-party AI services:</p> Provider Privacy Policy Data Usage OpenAI OpenAI Privacy Messages processed for AI responses Sambanova Sambanova Privacy Messages processed for AI responses Google Gemini Google Privacy Messages processed for AI responses"},{"location":"PRIVACY/#important-notes","title":"Important Notes","text":"<ul> <li>Your Choice: You select which provider to use</li> <li>Direct Communication: Messages go directly from Harper to the provider</li> <li>Provider Policies: Each provider has its own privacy policy</li> <li>No Additional Sharing: We don't share data beyond what's sent to providers</li> </ul>"},{"location":"PRIVACY/#data-retention","title":"Data Retention","text":""},{"location":"PRIVACY/#retention-policy","title":"Retention Policy","text":"<ul> <li>Conversation Data: Retained until you delete it</li> <li>Configuration: Retained until you modify settings</li> <li>Logs: Temporary logs deleted on application restart</li> </ul>"},{"location":"PRIVACY/#data-deletion","title":"Data Deletion","text":"<p>You can delete your data at any time:</p> <pre><code># Remove database\nrm chat_sessions.db\n\n# Remove configuration\nrm -rf config/local.toml\nrm .env\n</code></pre>"},{"location":"PRIVACY/#international-data-transfers","title":"International Data Transfers","text":""},{"location":"PRIVACY/#data-location","title":"Data Location","text":"<ul> <li>Primary Location: Data stays on your local device</li> <li>AI Processing: May occur in provider's data centers</li> <li>No Cross-Border Transfers: We don't transfer data between countries</li> </ul>"},{"location":"PRIVACY/#compliance","title":"Compliance","text":"<ul> <li>GDPR: We comply with GDPR requirements for data protection</li> <li>Local Laws: Subject to laws in your jurisdiction</li> <li>Provider Compliance: AI providers handle their own compliance</li> </ul>"},{"location":"PRIVACY/#changes-to-this-policy","title":"Changes to This Policy","text":""},{"location":"PRIVACY/#policy-updates","title":"Policy Updates","text":"<ul> <li>Notification: Significant changes will be announced via:</li> <li>GitHub releases</li> <li>Changelog updates</li> <li> <p>Documentation updates</p> </li> <li> <p>Version History: All changes tracked in git history</p> </li> <li>Effective Date: Changes take effect immediately upon release</li> </ul>"},{"location":"PRIVACY/#your-options","title":"Your Options","text":"<p>If you disagree with policy changes: - Continue Using: Accept the new terms - Stop Using: Delete your data and stop using Harper - Contact Us: Discuss concerns via GitHub issues</p>"},{"location":"PRIVACY/#contact-us","title":"Contact Us","text":""},{"location":"PRIVACY/#privacy-questions","title":"Privacy Questions","text":"<ul> <li>GitHub Issues: Open a privacy-related issue</li> <li>Discussions: Privacy discussions</li> <li>Email: harpertoken@icloud.com (for sensitive concerns)</li> </ul>"},{"location":"PRIVACY/#data-requests","title":"Data Requests","text":"<p>To exercise your data rights: 1. Open a GitHub issue with \"Privacy Request\" in the title 2. Specify what action you need (access, export, deletion) 3. Provide verification details if required</p> <p>Last Updated: November 2025 Version: 1.0</p> <p>This privacy policy applies to Harper and is separate from any AI provider privacy policies.</p>"},{"location":"RESET/","title":"Reset Guide","text":""},{"location":"RESET/#workspace-reset-guide","title":"Workspace Reset Guide","text":"<p>This guide provides commands to completely reset your Harper workspace to a clean state. Use these commands when you need to start fresh or resolve development issues.</p>"},{"location":"RESET/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Quick Reset</li> <li>Detailed Reset Commands</li> <li>Common Scenarios</li> <li>Safety Precautions</li> <li>Troubleshooting</li> </ul>"},{"location":"RESET/#quick-reset","title":"Quick Reset","text":"<p>For a complete workspace reset, run these commands in order:</p> <pre><code># Reset repository to clean state\ngit reset --hard HEAD\ngit clean -fdx\n\n# Clean build artifacts\ncargo clean\n\n# Rebuild from scratch\ncargo build\n</code></pre>"},{"location":"RESET/#detailed-reset-commands","title":"Detailed Reset Commands","text":""},{"location":"RESET/#git-repository-reset","title":"Git Repository Reset","text":"Revert All Changes  **Command:**  <pre><code>git reset --hard HEAD\n</code></pre>   **What it does:** - Resets all tracked files to the last commit state - Discards all uncommitted changes in tracked files - Moves HEAD pointer back to the current commit  **Use when:** You want to undo all local changes and return to the last commit.  Remove Untracked Files  **Command:**  <pre><code>git clean -fd\n</code></pre>   **What it does:** - Removes all untracked files and directories - Preserves ignored files (those in .gitignore) - Safe for most cleanup operations  **Use when:** You have build artifacts or temporary files to remove.  Remove All Files (Including Ignored)  **Command:**  <pre><code>git clean -fdx\n</code></pre>   **What it does:** - Removes untracked files AND ignored files - More aggressive cleanup -  **Caution**: May remove important files like IDE settings  **Use when:** You need a completely clean workspace, including ignored files."},{"location":"RESET/#build-system-reset","title":"Build System Reset","text":"Clean Build Artifacts  **Command:**  <pre><code>cargo clean\n</code></pre>   **What it does:** - Removes all build artifacts from `target/` directory - Clears compiled binaries and intermediate files - Frees up disk space  **Use when:** Build issues, switching Rust versions, or cleaning up space.  Rebuild Project  **Command:**  <pre><code>cargo build\n</code></pre>   **What it does:** - Downloads dependencies (if needed) - Compiles the entire project from scratch - Creates fresh binaries in `target/debug/`  **Use when:** After cleaning or when dependencies have changed."},{"location":"RESET/#advanced-reset","title":"Advanced Reset","text":"Update Submodules  **Command:**  <pre><code>git submodule update --init --recursive\n</code></pre>   **What it does:** - Initializes and updates all git submodules - Ensures submodules are at correct commits - Required if project uses submodules  **Use when:** Working with projects that have git submodules.  Reset to Specific Commit  **Command:**  <pre><code>git reset --hard &lt;commit-hash&gt;\n</code></pre>   **What it does:** - Resets repository to a specific commit - Discards all changes after that commit  **Use when:** Need to revert to a known good state."},{"location":"RESET/#common-scenarios","title":"Common Scenarios","text":""},{"location":"RESET/#after-failed-build","title":"After Failed Build","text":"<pre><code>cargo clean\ncargo build\n</code></pre>"},{"location":"RESET/#starting-fresh-development-session","title":"Starting Fresh Development Session","text":"<pre><code>git status  # Check current state\ngit stash   # Save changes if needed\ngit reset --hard HEAD\ngit clean -fd\ncargo clean\ncargo build\n</code></pre>"},{"location":"RESET/#resolving-merge-conflicts","title":"Resolving Merge Conflicts","text":"<pre><code>git merge --abort  # If in merge\ngit reset --hard HEAD\ngit clean -fd\n</code></pre>"},{"location":"RESET/#switching-branches-with-conflicts","title":"Switching Branches with Conflicts","text":"<pre><code>git stash  # Save work\ngit checkout &lt;branch&gt;\ngit stash pop  # Restore work\n</code></pre>"},{"location":"RESET/#safety-precautions","title":"Safety Precautions","text":""},{"location":"RESET/#important-warnings","title":"Important Warnings","text":"<ul> <li>Data Loss: These commands permanently delete uncommitted changes</li> <li>Backup First: Always commit or stash important work before resetting</li> <li>Review Changes: Use <code>git status</code> and <code>git diff</code> to see what will be lost</li> <li>Test Commands: Run <code>git clean -fd --dry-run</code> to preview what will be removed</li> </ul>"},{"location":"RESET/#safe-practices","title":"Safe Practices","text":"<pre><code># Always check status first\ngit status\n\n# Preview what will be cleaned\ngit clean -fd --dry-run\n\n# Stash changes instead of losing them\ngit stash push -m \"Work in progress\"\n\n# After reset, restore work\ngit stash pop\n</code></pre>"},{"location":"RESET/#recovery-options","title":"Recovery Options","text":"<p>If you accidentally delete important files:</p> <pre><code># Restore from git (if committed)\ngit checkout HEAD -- &lt;file&gt;\n\n# Restore from stash\ngit stash pop\n\n# Restore from reflog\ngit reflog\ngit reset --hard &lt;commit-from-reflog&gt;\n</code></pre>"},{"location":"RESET/#troubleshooting","title":"Troubleshooting","text":""},{"location":"RESET/#common-issues","title":"Common Issues","text":"<p>\"Permission denied\" errors:</p> <pre><code># On Unix systems\nchmod +x scripts/*\nsudo cargo clean  # If needed\n</code></pre> <p>Build still failing after reset:</p> <pre><code># Clear Cargo cache\nrm -rf ~/.cargo/registry/cache\nrm -rf ~/.cargo/git/checkouts\n\n# Rebuild\ncargo clean\ncargo build\n</code></pre> <p>Git repository corrupted:</p> <pre><code># Remove and re-clone (last resort)\ncd ..\nrm -rf harper\ngit clone https://github.com/harpertoken/harper.git\ncd harper\n</code></pre>"},{"location":"RESET/#getting-help","title":"Getting Help","text":"<ul> <li>Documentation: See Contributing Guide</li> <li>Issues: Report problems</li> <li>Discussions: Ask questions</li> </ul> <p>Remember: When in doubt, commit your work first! It's always safer to have changes in git history than to lose them permanently.</p> <p>For more information about Harper development, see the main README and Contributing Guide.</p>"},{"location":"about/governance/","title":"Governance","text":""},{"location":"about/governance/#maintainers","title":"Maintainers","text":"<ul> <li>Harper Contributors</li> </ul>"},{"location":"about/governance/#decision-process","title":"Decision Process","text":"<p>Major decisions by maintainer consensus.</p>"},{"location":"about/governance/#code-of-conduct","title":"Code of Conduct","text":"<p>Be respectful and collaborative.</p>"},{"location":"about/governance/#contributing","title":"Contributing","text":"<p>See Contributing.</p>"},{"location":"about/privacy/","title":"Privacy Policy","text":"<p>Harper collects minimal data for functionality:</p> <ul> <li>Chat messages (stored locally)</li> <li>API usage for AI services</li> <li>Configuration settings</li> </ul> <p>No data is sent to third parties except AI API calls.</p>"},{"location":"about/privacy/#data-storage","title":"Data Storage","text":"<ul> <li>Local SQLite database</li> <li>Config files in user directory</li> <li>No cloud storage by default</li> </ul>"},{"location":"development/api/","title":"API Reference","text":""},{"location":"development/api/#core-modules","title":"Core Modules","text":"<ul> <li><code>harper::core</code> - Core functionality</li> <li><code>harper::interfaces</code> - UI components</li> <li><code>harper::memory</code> - Data persistence</li> <li><code>harper::runtime</code> - Execution engine</li> <li><code>harper::tools</code> - Tool integrations</li> </ul>"},{"location":"development/api/#key-types","title":"Key Types","text":"<ul> <li><code>ChatService</code> - Main chat interface</li> <li><code>ApiConfig</code> - API configuration</li> <li><code>HarperError</code> - Error types</li> </ul> <p>See Rust documentation for detailed API docs.</p>"},{"location":"development/cicd/","title":"CI/CD","text":"<p>Harper uses GitHub Actions for continuous integration.</p>"},{"location":"development/cicd/#workflows","title":"Workflows","text":"<ul> <li>CI: Builds and tests on Ubuntu, macOS, Windows</li> <li>Security: CodeQL scans and dependency audits</li> <li>Release: Automated versioning and publishing</li> <li>Docs: MkDocs site deployment</li> </ul>"},{"location":"development/cicd/#status-badges","title":"Status Badges","text":"<p>Check the README for current CI status.</p>"},{"location":"development/contributing/","title":"Contributing","text":""},{"location":"development/contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Fork the repository</li> <li>Clone your fork</li> <li>Install Rust 1.85.0+</li> <li>Run <code>cargo build</code></li> </ol>"},{"location":"development/contributing/#testing","title":"Testing","text":"<pre><code>cargo test\n</code></pre>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>Use <code>cargo fmt</code> for formatting</li> <li>Use <code>cargo clippy</code> for linting</li> </ul>"},{"location":"user-guide/about/","title":"About Harper Binary","text":"<p>This document explains how Harper's binary works and how to run it.</p>"},{"location":"user-guide/about/#binary-overview","title":"Binary Overview","text":"<p>Harper is a Rust application with multiple binaries available in the workspace. The main binary provides an interactive AI chat interface.</p>"},{"location":"user-guide/about/#running-harper","title":"Running Harper","text":""},{"location":"user-guide/about/#using-cargo","title":"Using Cargo","text":"<p>The recommended way to run Harper from the workspace root:</p> <pre><code>cargo run -p harper-ui --bin harper\n</code></pre> <p>Or you can run from within the harper-ui directory:</p> <pre><code>cd lib/harper-ui\ncargo run\n</code></pre>"},{"location":"user-guide/about/#using-the-built-binary","title":"Using the Built Binary","text":"<p>After building:</p> <pre><code># Debug build\n./target/debug/harper\n\n# Release build\n./target/release/harper\n</code></pre>"},{"location":"user-guide/about/#available-binaries","title":"Available Binaries","text":""},{"location":"user-guide/about/#harper","title":"harper","text":"<p>The main interactive chat interface. This is what you use for: - Chatting with AI models - Processing clipboard content - Session management - Running commands with user approval</p>"},{"location":"user-guide/about/#harper-batch","title":"harper-batch","text":"<p>Batch processing mode for running multiple operations:</p> <pre><code>cargo run --bin harper-batch -- [options]\n</code></pre> <p>Use this for: - Processing multiple files - Bulk operations - Non-interactive tasks</p>"},{"location":"user-guide/about/#how-it-works","title":"How It Works","text":""},{"location":"user-guide/about/#entry-point","title":"Entry Point","text":"<ol> <li> <p>Cargo finds the binary defined in <code>lib/harper-ui/Cargo.toml</code>:    <code>toml    [[bin]]    name = \"harper\"    path = \"src/main.rs\"</code></p> </li> <li> <p>main.rs initializes the application:</p> </li> <li>Loads configuration</li> <li>Sets up the TUI (Terminal User Interface)</li> <li>Connects to the configured AI provider</li> <li> <p>Starts the chat loop</p> </li> <li> <p>The Application runs an event loop:</p> </li> <li>Reads user input</li> <li>Sends to AI model</li> <li>Displays response</li> <li>Handles commands (like <code>/help</code>, <code>/save</code>, etc.)</li> </ol>"},{"location":"user-guide/about/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         harper binary               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  lib/harper-ui (TUI)               \u2502\n\u2502  - User interface                   \u2502\n\u2502  - Command parsing                  \u2502\n\u2502  - Session management               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  lib/harper-core (Core)            \u2502\n\u2502  - AI integration                   \u2502\n\u2502  - Memory/Persistence               \u2502\n\u2502  - Tools and plugins                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/about/#build-options","title":"Build Options","text":""},{"location":"user-guide/about/#debug-build","title":"Debug Build","text":"<pre><code>cargo build\n# Slower runtime, faster compilation, larger binary\n./target/debug/harper\n</code></pre>"},{"location":"user-guide/about/#release-build","title":"Release Build","text":"<pre><code>cargo build --release\n# Optimized, smaller binary\n./target/release/harper\n</code></pre>"},{"location":"user-guide/about/#custom-profiles","title":"Custom Profiles","text":"<pre><code>cargo build --profile dist\n# Maximum optimization with LTO\n</code></pre>"},{"location":"user-guide/about/#command-line-arguments","title":"Command Line Arguments","text":"<p>Run with help to see all options:</p> <pre><code>cargo run -- --help\n</code></pre> <p>Common arguments: - <code>--config &lt;path&gt;</code> - Custom config file path - <code>--session &lt;name&gt;</code> - Load specific session - <code>--debug</code> - Enable debug mode</p>"},{"location":"user-guide/about/#requirements","title":"Requirements","text":"<p>To run Harper you need: - Rust 1.85.0 or later - An API key for your chosen AI provider - Terminal with sufficient colors support</p>"},{"location":"user-guide/about/#troubleshooting","title":"Troubleshooting","text":"<p>If Harper won't start: - Check your API key is configured - Verify your terminal supports colors - Try running with debug mode enabled - Check the troubleshooting guide</p>"},{"location":"user-guide/about/#see-also","title":"See Also","text":"<ul> <li>Installation Guide</li> <li>Configuration</li> <li>Chat Interface</li> </ul>"},{"location":"user-guide/chat/","title":"Chat Interface","text":"<p>Harper provides an interactive command-line chat interface that allows you to communicate with AI models. This guide covers all the features and commands available in the chat.</p>"},{"location":"user-guide/chat/#starting-harper","title":"Starting Harper","text":"<p>After installation, run Harper from your terminal:</p> <pre><code>./target/release/harper\n</code></pre> <p>You will see a welcome message followed by the chat prompt where you can type your messages.</p>"},{"location":"user-guide/chat/#chat-commands","title":"Chat Commands","text":"<p>Harper supports slash commands for various operations. All commands start with <code>/</code>:</p> Command Description <code>/exit</code> Exit the application safely <code>/quit</code> Same as /exit <code>/help</code> Show available commands <code>/clear</code> Clear the current session <code>/save</code> Save current session to disk <code>/load</code> Load a saved session <code>/audit</code> View command history (e.g., <code>/audit 10</code>)"},{"location":"user-guide/chat/#using-commands","title":"Using Commands","text":"<p>Simply type the command and press Enter. For example:</p> <pre><code>&gt; /help\nAvailable commands:\n/exit, /quit - Exit the application\n/help    - Show this message\n/clear   - Clear current session\n/save    - Save current session\n/load    - Load a saved session\n/audit   - View command history\n</code></pre>"},{"location":"user-guide/chat/#chat-features","title":"Chat Features","text":""},{"location":"user-guide/chat/#multi-line-input","title":"Multi-line Input","text":"<p>Harper supports multi-line input for longer messages. To enter multi-line mode, start your message with a blank line or use the enter key at the end of each line. When you want to send the message, press Enter twice or use a specific ending marker.</p> <p>This is useful when you need to: - Provide long code snippets - Write detailed prompts - Include multiple paragraphs</p>"},{"location":"user-guide/chat/#command-history","title":"Command History","text":"<p>Harper maintains a history of your commands within the session. Use the up and down arrow keys to navigate through previous commands. This makes it easy to: - Repeat previous queries with modifications - Review what you've asked before - Quickly access frequently used commands</p>"},{"location":"user-guide/chat/#session-persistence","title":"Session Persistence","text":"<p>Your chat sessions can be saved and loaded later. This feature allows you to:</p> <ul> <li>Save Session: Use <code>/save</code> to persist your conversation</li> <li>Load Session: Use <code>/load</code> to restore a previous conversation</li> <li>Continue Later: Pick up where you left off</li> </ul> <p>Sessions are stored locally and include your entire conversation history with the AI.</p>"},{"location":"user-guide/chat/#command-logging","title":"Command Logging","text":"<p>Harper logs all shell commands executed during your session. You can review these logs using the <code>/audit</code> command which shows: - Command text - Approval state (approved or rejected) - Exit code - Runtime duration - stdout/stderr previews</p> <p>This ensures every operation is traceable for security and debugging purposes.</p>"},{"location":"user-guide/chat/#sending-messages","title":"Sending Messages","text":""},{"location":"user-guide/chat/#basic-message","title":"Basic Message","text":"<p>Type your message and press Enter to send it to the AI. The response will appear below your message.</p>"},{"location":"user-guide/chat/#sending-code","title":"Sending Code","text":"<p>When sending code, you can format it in markdown code blocks for better readability:</p> <pre><code>Here's a function I need help with:\n\n```rust\nfn main() {\n    println!(\"Hello, World!\");\n}\n</code></pre> <p>```</p>"},{"location":"user-guide/chat/#interrupting-responses","title":"Interrupting Responses","text":"<p>If you need to stop a long-running response, press Ctrl+C to interrupt the AI.</p>"},{"location":"user-guide/chat/#tips-and-best-practices","title":"Tips and Best Practices","text":"<ol> <li> <p>Be Specific: The more details you provide, the better the AI can help you.</p> </li> <li> <p>Use Context: Reference previous messages to maintain continuity in the conversation.</p> </li> <li> <p>Save Important Sessions: Save sessions that contain valuable information or complex problem-solving.</p> </li> <li> <p>Review History: Use the audit feature to review what commands have been executed.</p> </li> <li> <p>Clear When Needed: Use <code>/clear</code> to start fresh if the conversation becomes too long or confusing.</p> </li> </ol>"},{"location":"user-guide/clipboard/","title":"Clipboard Features","text":"<p>Harper provides powerful clipboard integration that allows you to work with both images and text from your system clipboard. This feature enables the AI to analyze and reference content you've copied.</p>"},{"location":"user-guide/clipboard/#overview","title":"Overview","text":"<p>Harper can access your clipboard contents and use them as context for conversations. This is particularly useful when you want to: - Analyze images you've captured - Reference text from other applications - Share code snippets or documents</p>"},{"location":"user-guide/clipboard/#image-processing","title":"Image Processing","text":""},{"location":"user-guide/clipboard/#how-it-works","title":"How It Works","text":"<p>Harper can process images directly from your clipboard. This is useful for: - Analyzing screenshots - Reviewing diagrams - Examining UI designs - Reading handwritten notes</p>"},{"location":"user-guide/clipboard/#supported-formats","title":"Supported Formats","text":"<p>Harper supports the following image formats: - PNG (preferred) - JPEG/JPG - Other common image formats depending on your system</p>"},{"location":"user-guide/clipboard/#using-images","title":"Using Images","text":"<ol> <li>Copy an image to your clipboard (using your system's copy function)</li> <li>Paste or reference it in Harper</li> <li>The AI will analyze the image and provide insights</li> </ol> <p>Example workflow:</p> <pre><code>&gt; I took a screenshot of an error message, let me show you\n[paste image from clipboard]\n&gt; Can you help me understand what this error means?\n</code></pre>"},{"location":"user-guide/clipboard/#text-processing","title":"Text Processing","text":""},{"location":"user-guide/clipboard/#how-it-works_1","title":"How It Works","text":"<p>Harper can read text from your clipboard to provide context. This includes: - Copied code snippets - Error messages - Documentation - Any text content</p>"},{"location":"user-guide/clipboard/#using-text","title":"Using Text","text":"<ol> <li>Copy text to your clipboard from any application</li> <li>Reference it in Harper</li> </ol> <p>Example:</p> <pre><code>&gt; Here's that error I mentioned\n[paste text from clipboard]\n&gt; What does this error indicate?\n</code></pre> <p>Or directly reference clipboard content in your message.</p>"},{"location":"user-guide/clipboard/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/clipboard/#for-images","title":"For Images","text":"<ul> <li>Ensure the image is clear and readable</li> <li>Include relevant context in your message</li> <li>For screenshots, capture the entire relevant area</li> </ul>"},{"location":"user-guide/clipboard/#for-text","title":"For Text","text":"<ul> <li>Copy only the relevant portion</li> <li>Include any error codes or specific terminology</li> <li>Mention the source application if relevant</li> </ul>"},{"location":"user-guide/clipboard/#general-tips","title":"General Tips","text":"<ol> <li> <p>Clipboard Check: Harper reads the clipboard when you explicitly reference it or paste content.</p> </li> <li> <p>Privacy: Remember that clipboard content is sent to the AI model when you use it. Avoid copying sensitive information like passwords or personal data.</p> </li> <li> <p>Large Content: For very large text, consider copying just the relevant sections rather than entire documents.</p> </li> <li> <p>Format Preservation: Text formatting may be preserved when copying from applications like code editors or word processors.</p> </li> </ol>"},{"location":"user-guide/clipboard/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/clipboard/#images-not-processing","title":"Images Not Processing","text":"<ul> <li>Ensure the image is in a supported format (PNG, JPEG)</li> <li>Verify the image is actually in clipboard (try copying again)</li> <li>Check that the image file is not corrupted</li> </ul>"},{"location":"user-guide/clipboard/#text-not-appearing","title":"Text Not Appearing","text":"<ul> <li>Verify text is copied to clipboard</li> <li>Try copying again</li> <li>Ensure you're not including non-text content</li> </ul>"},{"location":"user-guide/clipboard/#large-file-issues","title":"Large File Issues","text":"<ul> <li>For very large images, consider resizing before copying</li> <li>Text-heavy clipboard content may be truncated in very large cases</li> </ul>"},{"location":"user-guide/configuration/","title":"Configuration","text":"<p>Harper uses configuration files to customize its behavior, including API settings, model selection, and application preferences. This guide covers all configuration options.</p>"},{"location":"user-guide/configuration/#config-file-location","title":"Config File Location","text":"<p>Harper looks for configuration in the following locations (in order of priority):</p> <ol> <li><code>./config/local.toml</code> - Local project configuration</li> <li><code>~/.harper/config.toml</code> - User-level configuration</li> <li>Default values (if no config found)</li> </ol>"},{"location":"user-guide/configuration/#creating-a-config-file","title":"Creating a Config File","text":"<p>Create a <code>config/local.toml</code> file in the Harper directory:</p> <pre><code>mkdir -p config\ntouch config/local.toml\n</code></pre>"},{"location":"user-guide/configuration/#api-configuration","title":"API Configuration","text":""},{"location":"user-guide/configuration/#setting-up-openai","title":"Setting Up OpenAI","text":"<pre><code>[api]\nkey = \"your-openai-api-key\"\nprovider = \"OpenAI\"\n</code></pre>"},{"location":"user-guide/configuration/#setting-up-anthropic","title":"Setting Up Anthropic","text":"<pre><code>[api]\nkey = \"your-anthropic-api-key\"\nprovider = \"Anthropic\"\n</code></pre>"},{"location":"user-guide/configuration/#setting-up-other-providers","title":"Setting Up Other Providers","text":"<pre><code>[api]\nkey = \"your-api-key\"\nprovider = \"ProviderName\"\nbase_url = \"https://api.example.com/v1\"  # Optional: for custom endpoints\n</code></pre>"},{"location":"user-guide/configuration/#model-configuration","title":"Model Configuration","text":""},{"location":"user-guide/configuration/#selecting-models","title":"Selecting Models","text":"<p>You can specify which models to use for different tasks:</p> <pre><code>[models]\ndefault = \"gpt-4\"\ncode = \"gpt-4\"\nchat = \"gpt-3.5-turbo\"\n</code></pre>"},{"location":"user-guide/configuration/#model-parameters","title":"Model Parameters","text":"<p>Configure model behavior with additional parameters:</p> <pre><code>[models.default]\ntemperature = 0.7\nmax_tokens = 2048\ntop_p = 1.0\nfrequency_penalty = 0.0\npresence_penalty = 0.0\n</code></pre>"},{"location":"user-guide/configuration/#parameter-explanations","title":"Parameter Explanations","text":"Parameter Description Typical Range temperature Controls randomness 0.0 - 2.0 max_tokens Maximum response length 1 - 32000 top_p Nucleus sampling 0.0 - 1.0 frequency_penalty Reduces repetition -2.0 - 2.0 presence_penalty Encourages new topics -2.0 - 2.0"},{"location":"user-guide/configuration/#application-settings","title":"Application Settings","text":""},{"location":"user-guide/configuration/#general-settings","title":"General Settings","text":"<pre><code>[app]\nname = \"Harper\"\nversion = \"1.0.0\"\ndebug = false\nverbose = false\n</code></pre>"},{"location":"user-guide/configuration/#session-settings","title":"Session Settings","text":"<pre><code>[session]\nauto_save = true\nsave_interval = 300  # seconds\nmax_history = 1000\nsession_dir = \"./sessions\"\n</code></pre>"},{"location":"user-guide/configuration/#ui-settings","title":"UI Settings","text":"<pre><code>[ui]\ntheme = \"dark\"\ncolor = true\nprompt = \"&gt; \"\nshow_timestamps = true\nshow_token_count = false\n</code></pre>"},{"location":"user-guide/configuration/#environment-variables","title":"Environment Variables","text":"<p>You can also configure Harper using environment variables:</p> <pre><code>export HARPER_API_KEY=\"your-api-key\"\nexport HARPER_PROVIDER=\"OpenAI\"\nexport HARPER_MODEL=\"gpt-4\"\nexport HARPER_DEBUG=\"false\"\n</code></pre>"},{"location":"user-guide/configuration/#security","title":"Security","text":""},{"location":"user-guide/configuration/#api-key-best-practices","title":"API Key Best Practices","text":"<ol> <li>Never commit API keys: Add your config file to <code>.gitignore</code></li> <li>Use environment variables: Store sensitive values in env vars</li> <li>Rotate keys regularly: Update your API keys periodically</li> <li>Use least privilege: Use API keys with minimal required permissions</li> </ol>"},{"location":"user-guide/configuration/#example-with-environment-variables","title":"Example with Environment Variables","text":"<pre><code>[api]\nkey = \"${HARPER_API_KEY}\"  # Reads from environment variable\nprovider = \"${HARPER_PROVIDER:-OpenAI}\"  # With default value\n</code></pre>"},{"location":"user-guide/configuration/#multiple-profiles","title":"Multiple Profiles","text":"<p>You can create multiple configuration profiles:</p> <pre><code>[profile.development]\napi.key = \"dev-api-key\"\ndebug = true\n\n[profile.production]\napi.key = \"prod-api-key\"\ndebug = false\n</code></pre> <p>Select a profile when starting Harper:</p> <pre><code>harper --profile development\n</code></pre>"},{"location":"user-guide/configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/configuration/#config-not-found","title":"Config Not Found","text":"<p>If Harper isn't finding your config: - Check the file path is correct - Verify the file is named <code>local.toml</code> - Ensure proper TOML syntax</p>"},{"location":"user-guide/configuration/#invalid-configuration","title":"Invalid Configuration","text":"<p>Common issues: - Missing quotes around API keys - Invalid TOML syntax (check for commas, brackets) - Unsupported configuration options</p>"},{"location":"user-guide/configuration/#api-key-issues","title":"API Key Issues","text":"<ul> <li>Verify the API key is correct</li> <li>Check the provider name is supported</li> <li>Ensure you have credits/quota available</li> </ul>"},{"location":"user-guide/configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"user-guide/configuration/#custom-endpoints","title":"Custom Endpoints","text":"<pre><code>[api]\nprovider = \"OpenAI\"\nbase_url = \"https://api.openai.com/v1\"\n</code></pre>"},{"location":"user-guide/configuration/#proxy-settings","title":"Proxy Settings","text":"<pre><code>[network]\nproxy = \"http://proxy.example.com:8080\"\ntimeout = 30\n</code></pre>"},{"location":"user-guide/configuration/#logging","title":"Logging","text":"<pre><code>[logging]\nlevel = \"info\"\nfile = \"harper.log\"\nmax_size = \"10MB\"\n</code></pre>"},{"location":"user-guide/installation/","title":"Installation","text":"<p>This guide covers how to install Harper on your system. Harper is a Rust application that can be built from source.</p>"},{"location":"user-guide/installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing Harper, ensure you have the following:</p>"},{"location":"user-guide/installation/#required-software","title":"Required Software","text":"<ul> <li> <p>Rust 1.85.0 or later: Harper is written in Rust. Install via rustup:   <code>bash   curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></p> </li> <li> <p>Git: For cloning the repository   ```bash   # On macOS   brew install git</p> </li> </ul> <p># On Ubuntu/Debian   sudo apt-get install git</p> <p># On Fedora   sudo dnf install git   ```</p>"},{"location":"user-guide/installation/#system-requirements","title":"System Requirements","text":"<ul> <li>Operating System: macOS, Linux, or Windows (with WSL)</li> <li>RAM: 4GB minimum, 8GB recommended</li> <li>Disk Space: 500MB for installation</li> <li>Internet: Required for API access</li> </ul>"},{"location":"user-guide/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"user-guide/installation/#method-1-build-from-source-recommended","title":"Method 1: Build from Source (Recommended)","text":"<ol> <li> <p>Clone the repository:    <code>bash    git clone https://github.com/harpertoken/harper.git    cd harper</code></p> </li> <li> <p>Build the release version:    <code>bash    cargo build --release</code></p> </li> <li> <p>Build Harper:    <code>bash    cargo build --release</code></p> </li> <li> <p>Run Harper:    ```bash    # Option 1: Using cargo    cargo run -p harper-ui --bin harper</p> </li> </ol> <p># Option 2: Using the built binary    ./target/release/harper    ```</p>"},{"location":"user-guide/installation/#method-2-using-make","title":"Method 2: Using Make","text":"<p>If the project includes a Makefile:</p> <pre><code>git clone https://github.com/harpertoken/harper.git\ncd harper\nmake\nmake run\n</code></pre>"},{"location":"user-guide/installation/#post-installation","title":"Post-Installation","text":""},{"location":"user-guide/installation/#configure-api-key","title":"Configure API Key","text":"<p>After installation, you'll need to configure your AI API key:</p> <ol> <li> <p>Create a config file:    <code>bash    mkdir -p config    nano config/local.toml</code></p> </li> <li> <p>Add your API key:    <code>toml    [api]    key = \"your-api-key-here\"    provider = \"OpenAI\"</code></p> </li> <li> <p>Save and exit. You're ready to use Harper!</p> </li> </ol>"},{"location":"user-guide/installation/#verifying-installation","title":"Verifying Installation","text":"<p>Run Harper to verify everything works:</p> <pre><code>./target/release/harper\n</code></pre> <p>You should see a welcome message. If you get an error, check: - Your Rust installation: <code>rustc --version</code> - Your API key configuration - Network connectivity</p>"},{"location":"user-guide/installation/#updating-harper","title":"Updating Harper","text":"<p>To update to the latest version:</p> <pre><code>git pull origin main\ncargo build --release\n</code></pre>"},{"location":"user-guide/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove Harper:</p> <pre><code># Remove the repository\ncd ..\nrm -rf harper\n\n# Optionally remove Rust if needed\nrustup self uninstall\n</code></pre>"},{"location":"user-guide/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/installation/#build-errors","title":"Build Errors","text":"<p>If the build fails: - Ensure Rust is up to date: <code>rustup update</code> - Clear build cache: <code>cargo clean &amp;&amp; cargo build --release</code></p>"},{"location":"user-guide/installation/#permission-denied","title":"Permission Denied","text":"<p>On Unix systems, you may need to make the binary executable:</p> <pre><code>chmod +x target/release/harper\n</code></pre>"},{"location":"user-guide/installation/#missing-dependencies","title":"Missing Dependencies","text":"<p>If you get library errors: - macOS: Install Xcode Command Line Tools: <code>xcode-select --install</code> - Linux: Install development libraries for your distribution</p>"},{"location":"user-guide/keychain/","title":"Keychain","text":"<p>Harper can securely store your API keys in your operating system's keychain instead of plain text config files.</p>"},{"location":"user-guide/keychain/#why-use-keychain","title":"Why Use Keychain?","text":"<ul> <li>Security: API keys are encrypted and stored in your OS's secure storage</li> <li>Convenience: No need to edit config files to change keys</li> <li>Portability: Keys persist across config file changes</li> </ul>"},{"location":"user-guide/keychain/#how-it-works","title":"How It Works","text":"<p>Harper uses the OS keychain to store API keys: * macOS: Keychain Access * Linux: Secret Service API (e.g., GNOME Keyring) * Windows: Credential Manager</p>"},{"location":"user-guide/keychain/#commands","title":"Commands","text":""},{"location":"user-guide/keychain/#login","title":"Login","text":"<p>Store an API key in your keychain:</p> <pre><code>harper auth login --provider openai\nharper auth login --provider sambanova\nharper auth login --provider gemini\n</code></pre> <p>You'll be prompted to enter your API key.</p>"},{"location":"user-guide/keychain/#logout","title":"Logout","text":"<p>Remove an API key from your keychain:</p> <pre><code>harper auth logout --provider openai\n</code></pre>"},{"location":"user-guide/keychain/#setup","title":"Setup","text":"<p>No additional setup needed. The keyring library handles OS integration automatically.</p>"},{"location":"user-guide/keychain/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/keychain/#keychain-access-denied","title":"Keychain Access Denied","text":"<p>On Linux, you may need to install a secret service backend:</p> <pre><code># Ubuntu/Debian\nsudo apt-get install libsecret-1-0 libsecret-tools\n\n# Fedora\nsudo dnf install libsecret\n</code></pre>"},{"location":"user-guide/keychain/#multiple-accounts","title":"Multiple Accounts","text":"<p>Each provider can only have one key stored. Use logout then login to replace.</p>"},{"location":"user-guide/keychain/#security","title":"Security","text":"<p>Keys stored in the keychain are: * Encrypted by your OS * Not stored in config files * Protected by your user account</p>"},{"location":"user-guide/quick-start/","title":"Quick Start","text":"<p>Get up and running with Harper in just a few minutes. This guide walks you through the essential steps to start using Harper effectively.</p>"},{"location":"user-guide/quick-start/#before-you-begin","title":"Before You Begin","text":"<p>Make sure you have: - Installed Harper (see Installation guide) - Created your configuration file with an API key - A terminal or command prompt</p>"},{"location":"user-guide/quick-start/#starting-harper","title":"Starting Harper","text":"<ol> <li> <p>Navigate to the Harper directory:    <code>bash    cd harper</code></p> </li> <li> <p>Run Harper:    ```bash    # Option 1: Using cargo (runs the binary directly)    cargo run -p harper-ui --bin harper</p> </li> </ol> <p># Option 2: Using built binary (after building)    ./target/release/harper    ```</p> <ol> <li>You should see a welcome message and the chat prompt:    ```    Welcome to Harper!</li> </ol> <p>Type your message and press Enter to start chatting.    Type /help for a list of commands.</p> <p>```</p>"},{"location":"user-guide/quick-start/#your-first-conversation","title":"Your First Conversation","text":"<p>Try typing a simple message:</p> <pre><code>&gt; Hello, what can you help me with?\n</code></pre> <p>The AI will respond based on your message. Try asking questions, requesting code help, or asking for explanations.</p>"},{"location":"user-guide/quick-start/#essential-commands","title":"Essential Commands","text":"<p>Here are the commands you'll use most often:</p> Command What It Does <code>/help</code> Show all available commands <code>/clear</code> Start a new conversation <code>/save</code> Save your current session <code>/load</code> Load a saved session <code>/exit</code> Exit Harper"},{"location":"user-guide/quick-start/#basic-workflows","title":"Basic Workflows","text":""},{"location":"user-guide/quick-start/#asking-for-code-help","title":"Asking for Code Help","text":"<ol> <li>Start with a clear description of what you need</li> <li>Include any relevant context or constraints</li> <li>Ask specific questions</li> </ol> <p>Example:</p> <pre><code>&gt; Can you write a function in Rust that reads a file and counts the number of lines?\n</code></pre>"},{"location":"user-guide/quick-start/#debugging-help","title":"Debugging Help","text":"<ol> <li>Copy the error message</li> <li>Paste it in Harper</li> <li>Ask what the error means</li> </ol>"},{"location":"user-guide/quick-start/#saving-work","title":"Saving Work","text":"<ol> <li>After a productive session, type:    ``` <p>/save    ```</p> </li> <li>Give your session a name when prompted</li> <li>Later, use <code>/load</code> to continue</li> </ol>"},{"location":"user-guide/quick-start/#tips-for-better-results","title":"Tips for Better Results","text":""},{"location":"user-guide/quick-start/#be-specific","title":"Be Specific","text":"<p>Instead of:</p> <pre><code>&gt; Help with code\n</code></pre> <p>Try:</p> <pre><code>&gt; Write a Rust function that takes a vector of numbers and returns the average\n</code></pre>"},{"location":"user-guide/quick-start/#provide-context","title":"Provide Context","text":"<p>Include relevant information: - What you're trying to accomplish - Any errors you're seeing - What you've already tried</p>"},{"location":"user-guide/quick-start/#use-follow-up-questions","title":"Use Follow-up Questions","text":"<p>Don't be afraid to ask clarifying questions:</p> <pre><code>&gt; That worked, but how can I modify it to handle empty vectors?\n</code></pre>"},{"location":"user-guide/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you're familiar with the basics, explore more features:</p> <ul> <li>Chat Interface: Learn about multi-line input, history, and session management</li> <li>Clipboard: Use images and text from your clipboard</li> <li>Configuration: Customize Harper's behavior</li> </ul>"},{"location":"user-guide/quick-start/#getting-help","title":"Getting Help","text":"<ul> <li>Type <code>/help</code> in Harper for command reference</li> <li>Check the documentation for detailed guides</li> <li>Visit the GitHub repository for issues and discussions</li> </ul>"},{"location":"user-guide/screenpipe/","title":"Screenpipe Integration","text":"<p>Harper integrates with Screenpipe to search through your screen and audio history, giving AI context about what you've been working on.</p>"},{"location":"user-guide/screenpipe/#what-is-screenpipe","title":"What is Screenpipe?","text":"<p>Screenpipe records your screen and audio, making it searchable. Harper can query this history to help answer questions about your recent work.</p>"},{"location":"user-guide/screenpipe/#requirements","title":"Requirements","text":"<ol> <li>Screenpipe installed and running</li> <li>See screenpipe for installation</li> <li> <p>Start screenpipe before using Harper</p> </li> <li> <p>Screenpipe server running</p> </li> <li>Default: <code>http://localhost:3030</code></li> <li>Can be changed with <code>SCREENPIPE_URL</code> environment variable</li> </ol>"},{"location":"user-guide/screenpipe/#usage","title":"Usage","text":"<p>Harper automatically uses screenpipe when relevant. You can also explicitly ask:</p> <pre><code>search screenpipe for terminal commands\nshow me what I was working on 30 minutes ago\nfind that error message from earlier\n</code></pre>"},{"location":"user-guide/screenpipe/#how-it-works","title":"How It Works","text":"<ol> <li>Harper detects when screenpipe search would be helpful</li> <li>It queries the screenpipe API</li> <li>Results are displayed with timestamps and source apps</li> </ol>"},{"location":"user-guide/screenpipe/#configuration","title":"Configuration","text":""},{"location":"user-guide/screenpipe/#environment-variables","title":"Environment Variables","text":"<pre><code># Change screenpipe URL (default: http://localhost:3030)\nexport SCREENPIPE_URL=\"http://localhost:3030\"\n</code></pre>"},{"location":"user-guide/screenpipe/#search-parameters","title":"Search Parameters","text":"<p>You can customize searches: - Query: What to search for - Type: <code>ocr</code> (screen text), <code>audio</code>, or both - Limit: Number of results (default: 10)</p> <p>Example in code:</p> <pre><code>[SCREENPIPE terminal error ocr 5]\n</code></pre> <p>This searches for \"terminal error\", using OCR, limiting to 5 results.</p>"},{"location":"user-guide/screenpipe/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/screenpipe/#connection-failed","title":"Connection Failed","text":"<p>If you see \"Could not connect to screenpipe\": 1. Ensure screenpipe is running 2. Check the URL is correct 3. Verify no firewall is blocking port 3030</p>"},{"location":"user-guide/screenpipe/#no-results","title":"No Results","text":"<ul> <li>Check screenpipe has recorded content</li> <li>Try a different search query</li> <li>Verify the correct content type (ocr vs audio)</li> </ul>"},{"location":"user-guide/screenpipe/#privacy","title":"Privacy","text":"<ul> <li>Screenpipe only records what you allow</li> <li>Harper only searches, never stores recordings</li> <li>You can pause screenpipe at any time</li> </ul>"},{"location":"user-guide/troubleshooting/","title":"Troubleshooting","text":"<p>This guide helps you resolve common issues you might encounter while using Harper.</p>"},{"location":"user-guide/troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"user-guide/troubleshooting/#api-key-problems","title":"API Key Problems","text":""},{"location":"user-guide/troubleshooting/#invalid-api-key-error","title":"\"Invalid API Key\" Error","text":"<p>Symptom: You see an error message about an invalid API key.</p> <p>Solutions: 1. Verify your API key is correct in <code>config/local.toml</code> 2. Check for extra spaces or quotes around the key 3. Ensure you have an active subscription with the provider 4. Try regenerating your API key from the provider's dashboard</p>"},{"location":"user-guide/troubleshooting/#rate-limit-exceeded-error","title":"\"Rate Limit Exceeded\" Error","text":"<p>Symptom: You see a rate limiting error message.</p> <p>Solutions: 1. Wait a few minutes before trying again 2. Check your API usage limits 3. Consider switching to a different model 4. Contact your provider for rate limit increases</p>"},{"location":"user-guide/troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"user-guide/troubleshooting/#network-error-or-connection-timeout","title":"\"Network Error\" or \"Connection Timeout\"","text":"<p>Symptom: Harper can't connect to the AI service.</p> <p>Solutions: 1. Check your internet connection 2. Verify your firewall isn't blocking the connection 3. Try using a different network 4. Check if the API service is down (provider status page)</p>"},{"location":"user-guide/troubleshooting/#proxy-error","title":"\"Proxy Error\"","text":"<p>Symptom: Connection fails when using a proxy.</p> <p>Solutions: 1. Configure proxy settings in your config:    <code>toml    [network]    proxy = \"http://proxy:port\"</code> 2. Verify proxy credentials are correct 3. Try disabling the proxy temporarily to test</p>"},{"location":"user-guide/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"user-guide/troubleshooting/#slow-responses","title":"Slow Responses","text":"<p>Symptom: Responses take a long time to appear.</p> <p>Solutions: 1. Try a faster model (e.g., gpt-3.5-turbo instead of gpt-4) 2. Reduce max_tokens setting 3. Check your network latency 4. Close other bandwidth-intensive applications</p>"},{"location":"user-guide/troubleshooting/#high-memory-usage","title":"High Memory Usage","text":"<p>Symptom: Harper uses too much memory.</p> <p>Solutions: 1. Reduce max_history in config 2. Start fresh sessions with <code>/clear</code> 3. Save and close old sessions 4. Restart Harper periodically</p>"},{"location":"user-guide/troubleshooting/#session-problems","title":"Session Problems","text":""},{"location":"user-guide/troubleshooting/#cant-load-session","title":"Can't Load Session","text":"<p>Symptom: Session loading fails.</p> <p>Solutions: 1. Verify the session file exists 2. Check file permissions 3. Ensure the session file isn't corrupted 4. Try loading a different session</p>"},{"location":"user-guide/troubleshooting/#session-not-saving","title":"Session Not Saving","text":"<p>Symptom: Save command seems to work but session is gone.</p> <p>Solutions: 1. Check write permissions in the session directory 2. Verify disk space is available 3. Check the session_dir path exists</p>"},{"location":"user-guide/troubleshooting/#build-and-installation","title":"Build and Installation","text":""},{"location":"user-guide/troubleshooting/#build-fails","title":"Build Fails","text":"<p>Symptom: cargo build command fails.</p> <p>Solutions: 1. Update Rust: <code>rustup update</code> 2. Clean build: <code>cargo clean &amp;&amp; cargo build --release</code> 3. Check for missing dependencies 4. Ensure you have enough disk space</p>"},{"location":"user-guide/troubleshooting/#binary-wont-start","title":"Binary Won't Start","text":"<p>Symptom: Running <code>./target/release/harper</code> fails.</p> <p>Solutions: 1. Make executable: <code>chmod +x target/release/harper</code> 2. Check if binary exists: <code>ls -la target/release/harper</code> 3. Verify libraries: <code>ldd target/release/harper</code></p>"},{"location":"user-guide/troubleshooting/#clipboard-issues","title":"Clipboard Issues","text":""},{"location":"user-guide/troubleshooting/#images-not-processing","title":"Images Not Processing","text":"<p>Symptom: Clipboard images aren't being analyzed.</p> <p>Solutions: 1. Verify the image is in clipboard (copy again) 2. Ensure it's a supported format (PNG, JPEG) 3. Check image file size (not too large) 4. Try pasting directly in terminal</p>"},{"location":"user-guide/troubleshooting/#text-not-available","title":"Text Not Available","text":"<p>Symptom: Clipboard text isn't being read.</p> <p>Solutions: 1. Copy text again 2. Ensure you're not copying from a restricted app 3. Try a simple text first</p>"},{"location":"user-guide/troubleshooting/#error-messages","title":"Error Messages","text":""},{"location":"user-guide/troubleshooting/#common-error-codes","title":"Common Error Codes","text":"Error Meaning Solution 401 Unauthorized Check API key 403 Forbidden Check permissions 404 Not found Check endpoint URL 429 Rate limited Wait and retry 500 Server error Try again later 503 Service unavailable Check provider status"},{"location":"user-guide/troubleshooting/#getting-more-help","title":"Getting More Help","text":"<p>If you're still stuck:</p> <ol> <li>Check the GitHub Issues</li> <li>Search the Discussions</li> <li>Review the documentation</li> <li>Create an issue with:</li> <li>Your config (remove API key)</li> <li>The exact error message</li> <li>Steps to reproduce</li> <li>Your system info</li> </ol>"},{"location":"user-guide/troubleshooting/#debug-mode","title":"Debug Mode","text":"<p>To get more detailed error information:</p> <pre><code>[app]\ndebug = true\nverbose = true\n</code></pre> <p>This will show additional logging that can help diagnose issues.</p>"},{"location":"user-guide/troubleshooting/#resetting-harper","title":"Resetting Harper","text":"<p>If all else fails, you can reset Harper to a clean state:</p> <ol> <li> <p>Delete the config directory (backup first):    <code>bash    rm -rf config/local.toml</code></p> </li> <li> <p>Clear sessions:    <code>bash    rm -rf sessions/</code></p> </li> <li> <p>Rebuild:    <code>bash    cargo clean &amp;&amp; cargo build --release</code></p> </li> </ol>"}]}